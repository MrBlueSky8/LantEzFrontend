<div class="login-container">
  <!-- SECCIÃ“N IZQUIERDA (BRANDING) -->
  <div class="login-left">
    <div class="brand-content">
      <h1 class="brand-title">Â¡Hola <span>LantEZ!</span> ðŸ‘‹</h1>
      <p class="brand-desc">
        Digitaliza tus evaluaciones funcionales con precisiÃ³n y facilidad.<br />
        Automatiza procesos, gestiona resultados y ahorra tiempo.
      </p>
      <footer class="brand-footer">
        Â© 2025 LantEZ. Todos los derechos reservados.
      </footer>
    </div>
  </div>

  <!-- SECCIÃ“N DERECHA (LOGIN FORM) -->
  <div class="login-right">
    <div class="auth-card">
      <header class="auth-header">
        <h2>Bienvenido de nuevo ðŸ‘‹</h2>
      </header>

      <form
        [formGroup]="form"
        (ngSubmit)="login()"
        novalidate
        class="auth-form"
        [attr.aria-busy]="loading ? 'true' : 'false'">

        <!-- Email -->
        <div class="field" [ngClass]="{'has-error': username?.invalid && username?.touched}">
          <label for="username" class="field-label">Correo electrÃ³nico</label>
          <input
            id="username"
            type="email"
            placeholder="nombre@dominio.com"
            class="input"
            formControlName="username"
            autocomplete="username"
            required
          />
          <small class="field-hint" *ngIf="username?.hasError('required') && username?.touched">
            El correo es obligatorio.
          </small>
          <small class="field-hint" *ngIf="username?.hasError('email') && username?.touched">
            Ingresa un correo vÃ¡lido.
          </small>
        </div>

        <!-- Password -->
        <div class="field" [ngClass]="{'has-error': password?.invalid && password?.touched}">
          <label for="password" class="field-label">ContraseÃ±a</label>
          <div class="input-with-toggle">
            <input
              id="password"
              [type]="showPass ? 'text' : 'password'"
              placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"
              class="input"
              formControlName="password"
              autocomplete="current-password"
              required
            />
            <button
              type="button"
              class="toggle-btn"
              (click)="showPass = !showPass"
              [attr.aria-pressed]="showPass ? 'true' : 'false'">
              {{ showPass ? 'Ocultar' : 'Mostrar' }}
            </button>
          </div>
          <small class="field-hint" *ngIf="password?.hasError('required') && password?.touched">
            La contraseÃ±a es obligatoria.
          </small>
        </div>

        <!-- Error message -->
        <div class="error-banner" *ngIf="mensaje">{{ mensaje }}</div>

        <!-- Actions -->
        <div class="actions">
          <button class="btn-primary" type="submit" [disabled]="form.invalid || loading">
            {{ loading ? 'Entrandoâ€¦' : 'Iniciar SesiÃ³n' }}
          </button>

          <a class="link" routerLink="/recuperar">Â¿Olvidaste tu contraseÃ±a?</a>
        </div>
      </form>
    </div>
  </div>
</div>
